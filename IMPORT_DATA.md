# üì• –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –∑ Google Sheets

## üéØ –©–æ –±—É–¥–µ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ

1. **–ü–µ—Ä–µ–∫–ª–∞–¥–∏** (`translations_for prod tg.csv`) ‚Üí —Ç–∞–±–ª–∏—Ü—è `translations`
2. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ –≥–∞–º–∞–Ω—Ü—ñ** (`Earnbot_Referrals - user_wallets.csv`) ‚Üí —Ç–∞–±–ª–∏—Ü—ñ `users` —Ç–∞ `business_data` (wallet)
3. **–ü–∞—Ä—Ç–Ω–µ—Ä–∏** (`Earnbot_Referrals - Partners_Settings.csv`) ‚Üí —Ç–∞–±–ª–∏—Ü—è `business_data` (partner)
4. **–õ–æ–≥–∏ –±–æ—Ç–∞** (`Earnbot_Referrals - bot_log.csv`) ‚Üí —Ç–∞–±–ª–∏—Ü—è `business_data` (log)

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –Ü–º–ø–æ—Ä—Ç –≤—Å—å–æ–≥–æ –æ–¥—Ä–∞–∑—É (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

```bash
# –ß–µ—Ä–µ–∑ Railway CLI
railway run python scripts/import_all_data.py --bot-name EarnHubAggregatorBot
```

**–©–æ –∑—Ä–æ–±–∏—Ç—å:**
- ‚úÖ –Ü–º–ø–æ—Ä—Ç—É—î –≤—Å—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ (uk, en, ru, de, es)
- ‚úÖ –Ü–º–ø–æ—Ä—Ç—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –≥–∞–º–∞–Ω—Ü—è–º–∏
- ‚úÖ –Ü–º–ø–æ—Ä—Ç—É—î –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ (TOP —Ç–∞ NEW)
- ‚úÖ –Ü–º–ø–æ—Ä—Ç—É—î –ª–æ–≥–∏ –±–æ—Ç–∞

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –Ü–º–ø–æ—Ä—Ç –æ–∫—Ä–µ–º–∏—Ö —á–∞—Å—Ç–∏–Ω

```bash
# –¢—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–∏
railway run python scripts/import_translations.py --csv "old-prod-hub-bot/translations_for prod tg.csv"

# –¢—ñ–ª—å–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (–ø–æ—Ç—Ä—ñ–±–µ–Ω bot_id)
railway run python scripts/migrate_from_sheets.py \
  --bot-id <BOT_UUID> \
  --user-wallets "old-prod-hub-bot/Earnbot_Referrals - user_wallets.csv"

# –¢—ñ–ª—å–∫–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∏
railway run python scripts/migrate_from_sheets.py \
  --bot-id <BOT_UUID> \
  --partners "old-prod-hub-bot/Earnbot_Referrals - Partners_Settings.csv"

# –¢—ñ–ª—å–∫–∏ –ª–æ–≥–∏
railway run python scripts/migrate_from_sheets.py \
  --bot-id <BOT_UUID> \
  --bot-log "old-prod-hub-bot/Earnbot_Referrals - bot_log.csv"
```

---

## üîç –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ bot_id

### –í–∞—Ä—ñ–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Admin UI

1. –í—ñ–¥–∫—Ä–∏–π `https://api-production-57e8.up.railway.app/admin`
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Bots"
3. –ó–Ω–∞–π–¥–∏ `EarnHubAggregatorBot`
4. –°–∫–æ–ø—ñ—é–π ID (UUID) –∑ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ –∑ URL

### –í–∞—Ä—ñ–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ API

```bash
curl https://api-production-57e8.up.railway.app/api/v1/admin/bots | jq '.[] | select(.name=="EarnHubAggregatorBot") | .id'
```

### –í–∞—Ä—ñ–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
railway run python -c "
from app.core.database import SessionLocal
from app.models.bot import Bot
db = SessionLocal()
bot = db.query(Bot).filter(Bot.name == 'EarnHubAggregatorBot').first()
print(f'Bot ID: {bot.id}' if bot else 'Bot not found')
db.close()
"
```

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ:
- ‚úÖ –ë–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º—ñ (—á–µ—Ä–µ–∑ Admin UI)
- ‚úÖ –§–∞–π–ª–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ `old-prod-hub-bot/`
- ‚úÖ Railway CLI –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π —ñ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–π

### 2. –ó–∞–ø—É—Å–∫ —ñ–º–ø–æ—Ä—Ç—É

```bash
# –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ–µ–∫—Ç—É
cd universal-bot-os

# –ó–∞–ø—É—Å—Ç–∏ —ñ–º–ø–æ—Ä—Ç
railway run python scripts/import_all_data.py --bot-name EarnHubAggregatorBot
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

**–ß–µ—Ä–µ–∑ Admin UI:**
1. –í—ñ–¥–∫—Ä–∏–π `/admin` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Stats"
2. –í–∏–±–µ—Ä–∏ –±–æ—Ç–∞
3. –ü–µ—Ä–µ–≤—ñ—Ä:
   - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤
   - –ó–∞–≥–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å

**–ß–µ—Ä–µ–∑ API:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
curl https://api-production-57e8.up.railway.app/api/v1/admin/bots/<BOT_ID>/stats

# –ü–µ—Ä–µ–≤—ñ—Ä –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤
curl https://api-production-57e8.up.railway.app/api/v1/admin/bots/<BOT_ID>/partners
```

---

## üîß –û–ø—Ü—ñ—ó —ñ–º–ø–æ—Ä—Ç—É

### –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —á–∞—Å—Ç–∏–Ω–∏ –¥–∞–Ω–∏—Ö

```bash
# –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤—Å–µ –∫—Ä—ñ–º –ª–æ–≥—ñ–≤
railway run python scripts/import_all_data.py \
  --bot-name EarnHubAggregatorBot \
  --skip-logs

# –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ —Ç–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤
railway run python scripts/import_all_data.py \
  --bot-name EarnHubAggregatorBot \
  --skip-users \
  --skip-logs
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–Ω—à—ñ —Ñ–∞–π–ª–∏

```bash
railway run python scripts/import_all_data.py \
  --bot-name EarnHubAggregatorBot \
  --translations path/to/translations.csv \
  --users path/to/users.csv \
  --partners path/to/partners.csv \
  --logs path/to/logs.csv
```

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

1. **Backup:** –ü–µ—Ä–µ–¥ —ñ–º–ø–æ—Ä—Ç–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –∑—Ä–æ–±–∏—Ç–∏ backup –ë–î
2. **–î—É–±–ª—ñ–∫–∞—Ç–∏:** –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î —ñ—Å–Ω—É—é—á—ñ –∑–∞–ø–∏—Å–∏
3. **–ü–æ–º–∏–ª–∫–∏:** –Ø–∫—â–æ —î –ø–æ–º–∏–ª–∫–∏ –≤ –¥–∞–Ω–∏—Ö, —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å —ñ–º–ø–æ—Ä—Ç —ñ–Ω—à–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
4. **–ß–∞—Å:** –Ü–º–ø–æ—Ä—Ç –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤

---

## üêõ Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "Bot not found"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ –±–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ Admin UI
2. –ü–µ—Ä–µ–≤—ñ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å —ñ–º–µ–Ω—ñ –±–æ—Ç–∞ (—Ä–µ–≥—ñ—Å—Ç—Ä –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è)
3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π `--bot-id` –∑–∞–º—ñ—Å—Ç—å `--bot-name`

### –ü–æ–º–∏–ª–∫–∞: "File not found"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ —Ñ–∞–π–ª–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ `old-prod-hub-bot/`
2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –∞–±—Å–æ–ª—é—Ç–Ω—ñ —à–ª—è—Ö–∏ –∞–±–æ –≤–∫–∞–∂–∏ `--translations`, `--users`, —Ç–æ—â–æ

### –ü–æ–º–∏–ª–∫–∞: "Database connection"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ Railway –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ –ø—Ä–æ–µ–∫—Ç—É: `railway link`
2. –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ PostgreSQL —Å–µ—Ä–≤—ñ—Å –æ–Ω–ª–∞–π–Ω
3. –ü–µ—Ä–µ–≤—ñ—Ä –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è: `railway variables`

---

## üìä –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É:

- **–ü–µ—Ä–µ–∫–ª–∞–¥–∏:** ~230 –∑–∞–ø–∏—Å—ñ–≤ (5 –º–æ–≤ √ó ~46 –∫–ª—é—á—ñ–≤)
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:** ~5-6 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∑ —Ñ–∞–π–ª—É)
- **–ü–∞—Ä—Ç–Ω–µ—Ä–∏:** ~7 –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ (–∑ —Ñ–∞–π–ª—É)
- **–õ–æ–≥–∏:** ~340 –∑–∞–ø–∏—Å—ñ–≤ (–∑ —Ñ–∞–π–ª—É)

---

## ‚úÖ –ü—ñ—Å–ª—è —ñ–º–ø–æ—Ä—Ç—É

1. **–ü–µ—Ä–µ–≤—ñ—Ä –±–æ—Ç–∞ –≤ Telegram:**
   - –ù–∞–¥—ñ—à–ª–∏ `/start` - –º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è
   - –ù–∞–¥—ñ—à–ª–∏ `/partners` - –º–∞—é—Ç—å –∑'—è–≤–∏—Ç–∏—Å—è –ø–∞—Ä—Ç–Ω–µ—Ä–∏
   - –ù–∞–¥—ñ—à–ª–∏ `/top` - –º–∞—é—Ç—å –∑'—è–≤–∏—Ç–∏—Å—è TOP –ø–∞—Ä—Ç–Ω–µ—Ä–∏

2. **–ü–µ—Ä–µ–≤—ñ—Ä –ø–µ—Ä–µ–∫–ª–∞–¥–∏:**
   - –ó–º—ñ–Ω–∏ –º–æ–≤—É –±–æ—Ç–∞
   - –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

3. **–ü–µ—Ä–µ–≤—ñ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
   - –í—ñ–¥–∫—Ä–∏–π Admin UI ‚Üí Stats
   - –ü–µ—Ä–µ–≤—ñ—Ä –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤

---

**–ì–æ—Ç–æ–≤–æ –¥–æ —ñ–º–ø–æ—Ä—Ç—É!** üöÄ

