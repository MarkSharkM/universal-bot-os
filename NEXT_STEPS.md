# üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ - Universal Bot OS

## ‚úÖ –©–æ –≤–∂–µ –∑—Ä–æ–±–ª–µ–Ω–æ

- ‚úÖ –í—Å—ñ 6 —Ñ–∞–∑ TODO –≤–∏–∫–æ–Ω–∞–Ω–æ (100%)
- ‚úÖ Railway deployment –ø—Ä–∞—Ü—é—î: `https://api-production-57e8.up.railway.app`
- ‚úÖ –ë–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π: `EarnHubAggregatorBot`
- ‚úÖ Webhook –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- ‚úÖ Admin UI –ø—Ä–∞—Ü—é—î: `/admin`

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç)

### 1. üì• –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –∑ Google Sheets (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

–Ø–∫—â–æ —î –¥–∞–Ω—ñ –≤ Google Sheets, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏:

```bash
# 1. –ï–∫—Å–ø–æ—Ä—Ç—É–π –¥–∞–Ω—ñ –∑ Google Sheets –≤ CSV
# - user_wallets.csv
# - bot_log.csv  
# - Partners_Settings.csv

# 2. –ó–∞–ø—É—Å—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é —á–µ—Ä–µ–∑ Railway CLI
railway run python scripts/migrate_from_sheets.py user_wallets.csv bot_log.csv Partners_Settings.csv

# –ê–ë–û –ª–æ–∫–∞–ª—å–Ω–æ (—è–∫—â–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ Railway –ë–î)
python scripts/migrate_from_sheets.py user_wallets.csv bot_log.csv Partners_Settings.csv
```

**–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ:** `scripts/README_MIGRATION.md`

---

### 2. üåç –Ü–º–ø–æ—Ä—Ç –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤

–Ø–∫—â–æ —î —Ñ–∞–π–ª –∑ –ø–µ—Ä–µ–∫–ª–∞–¥–∞–º–∏ (`translations_for prod tg.csv`):

```bash
railway run python scripts/import_translations.py translations_for\ prod\ tg.csv
```

**–ê–ë–û** —á–µ—Ä–µ–∑ Admin UI:
- –í—ñ–¥–∫—Ä–∏–π `/admin` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Translations"
- –î–æ–¥–∞–π –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –≤—Ä—É—á–Ω—É

---

### 3. ü§ñ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AI –¥–ª—è –±–æ—Ç–∞

–©–æ–± –±–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ —á–µ—Ä–µ–∑ AI:

1. –í—ñ–¥–∫—Ä–∏–π Admin UI: `https://api-production-57e8.up.railway.app/admin`
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"AI Config"**
3. –í–∏–±–µ—Ä–∏ –±–æ—Ç–∞ `EarnHubAggregatorBot`
4. –ó–∞–ø–æ–≤–Ω–∏:
   - **Provider:** `anthropic` (–∞–±–æ `openai`)
   - **Model:** `claude-3-5-sonnet-20241022` (–∞–±–æ —ñ–Ω—à–∞)
   - **API Key:** —Ç–≤—ñ–π Anthropic/OpenAI –∫–ª—é—á
   - **Temperature:** `0.7`
   - **System Prompt:** –Ω–∞–ª–∞—à—Ç—É–π –ø—ñ–¥ —Å–≤—ñ–π –±–æ—Ç
5. –ù–∞—Ç–∏—Å–Ω–∏ **"Save"**

**–ü—Ä–∏–∫–ª–∞–¥ System Prompt:**
```
–¢–∏ - –∫–æ—Ä–∏—Å–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –±–æ—Ç–∞ EarnHubAggregatorBot. 
–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é, –±—É—Ç–∏ –≤–≤—ñ—á–ª–∏–≤–∏–º —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–º.
```

---

### 4. üë• –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤

**–ß–µ—Ä–µ–∑ Admin UI:**
1. –í—ñ–¥–∫—Ä–∏–π `/admin` ‚Üí –≤–∫–ª–∞–¥–∫–∞ **"Partners"**
2. –í–∏–±–µ—Ä–∏ –±–æ—Ç–∞
3. –ù–∞—Ç–∏—Å–Ω–∏ **"+ Add Partner"**
4. –ó–∞–ø–æ–≤–Ω–∏ –¥–∞–Ω—ñ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
5. –ù–∞—Ç–∏—Å–Ω–∏ **"Save"**

**–ß–µ—Ä–µ–∑ CSV (—è–∫—â–æ –±–∞–≥–∞—Ç–æ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤):**
```bash
railway run python scripts/import_partners_from_csv.py partners.csv
```

---

### 5. üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞

1. –í—ñ–¥–∫—Ä–∏–π –±–æ—Ç–∞ –≤ Telegram: `@EarnHubAggregatorBot`
2. –ù–∞–¥—ñ—à–ª–∏ –∫–æ–º–∞–Ω–¥–∏:
   - `/start` - –ø–µ—Ä–µ–≤—ñ—Ä –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è
   - `/wallet` - –ø–µ—Ä–µ–≤—ñ—Ä –≥–∞–º–∞–Ω–µ—Ü—å
   - `/top` - –ø–µ—Ä–µ–≤—ñ—Ä —Ç–æ–ø –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤
   - –ë—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è - –ø–µ—Ä–µ–≤—ñ—Ä AI –≤—ñ–¥–ø–æ–≤—ñ–¥—å (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

3. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏ –≤ Railway:
   - –í—ñ–¥–∫—Ä–∏–π Railway Dashboard
   - –°–µ—Ä–≤—ñ—Å `api` ‚Üí `Deploy Logs`
   - –ú–∞—é—Ç—å –∑'—è–≤–∏—Ç–∏—Å—è –∑–∞–ø–∏—Å–∏ –ø—Ä–æ –æ–±—Ä–æ–±–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

---

### 6. üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

**–ü–µ—Ä–µ–≤—ñ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
- –í—ñ–¥–∫—Ä–∏–π `/admin` ‚Üí –≤–∫–ª–∞–¥–∫–∞ **"Stats"**
- –í–∏–±–µ—Ä–∏ –±–æ—Ç–∞
- –ü–µ—Ä–µ–≥–ª—è–Ω—å –º–µ—Ç—Ä–∏–∫–∏:
  - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
  - –ê–∫—Ç–∏–≤–Ω—ñ –ø–∞—Ä—Ç–Ω–µ—Ä–∏
  - –ó–∞–≥–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å

**–ü–µ—Ä–µ–≤—ñ—Ä health:**
```bash
curl https://api-production-57e8.up.railway.app/health
```

---

## üîß –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –î–æ–¥–∞—Ç–∏ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

–í `app/main.py` –¥–æ–¥–∞–π:
```python
from fastapi.openapi.docs import get_swagger_ui_html

@app.get("/docs")
async def swagger_ui():
    return get_swagger_ui_html(openapi_url="/openapi.json")
```

### –î–æ–¥–∞—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–ª—è Admin UI

–ó–∞—Ä–∞–∑ Admin API –≤—ñ–¥–∫—Ä–∏—Ç–∏–π. –î–ª—è production –¥–æ–¥–∞–π:
- JWT —Ç–æ–∫–µ–Ω–∏
- Basic Auth
- –ê–±–æ Railway Auth

### –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω–∏–π –¥–æ–º–µ–Ω

–ó–∞–º—ñ—Å—Ç—å `api-production-57e8.up.railway.app`:
1. –í Railway ‚Üí Settings ‚Üí Networking
2. –î–æ–¥–∞–π —Å–≤—ñ–π –¥–æ–º–µ–Ω
3. –ù–∞–ª–∞—à—Ç—É–π DNS –∑–∞–ø–∏—Å–∏

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏ Railway
railway logs

# –ó–∞–ø—É—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É –≤ Railway
railway run python scripts/your_script.py

# –ü–µ—Ä–µ–≤—ñ—Ä health
curl https://api-production-57e8.up.railway.app/health

# –ü–µ—Ä–µ–≤—ñ—Ä webhook
curl "https://api.telegram.org/bot<TOKEN>/getWebhookInfo"
```

---

## üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏

**–í–∏—Å–æ–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:**
1. ‚úÖ –ë–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —ñ webhook –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
2. ‚è≥ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ AI (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω)
3. ‚è≥ –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–∏
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –±–æ—Ç–∞

**–°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:**
5. ‚è≥ –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –∑ Google Sheets
6. ‚è≥ –î–æ–¥–∞—Ç–∏ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤
7. ‚è≥ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

**–ù–∏–∑—å–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:**
8. ‚è≥ –î–æ–¥–∞—Ç–∏ Swagger
9. ‚è≥ –î–æ–¥–∞—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é
10. ‚è≥ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω–∏–π –¥–æ–º–µ–Ω

---

**–ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!** üöÄ

–Ø–∫—â–æ —î –ø–∏—Ç–∞–Ω–Ω—è - –∑–≤–µ—Ä—Ç–∞–π—Å—è!
