# üß™ –Ø–∫ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —ñ–Ω–≤–∞–π—Ç–∏

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ!

**–õ—ñ–Ω–∫–∏ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ –ù–ï —Ä–∞—Ö—É—é—Ç—å —ñ–Ω–≤–∞–π—Ç–∏!**
- –õ—ñ–Ω–∫–∏ –≤ –ø–æ–ª—ñ `referral_link` –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ - —Ü–µ –ø—Ä–æ—Å—Ç–æ –ª—ñ–Ω–∫–∏ –Ω–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ –±–æ—Ç–∏
- –í–æ–Ω–∏ –≤–µ–¥—É—Ç—å –Ω–∞ —ñ–Ω—à—ñ –±–æ—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `https://t.me/boinker_bot?start=...`)
- –¶–µ –ù–ï —ñ–Ω–≤–∞–π—Ç–∏ –¥–ª—è HubAggregatorBot

**–Ü–Ω–≤–∞–π—Ç–∏ —Ä–∞—Ö—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏:**
- –•—Ç–æ—Å—å –∫–ª—ñ–∫–∞—î –Ω–∞ referral link **—Å–∞–º–æ–≥–æ HubAggregatorBot**
- –§–æ—Ä–º–∞—Ç: `https://t.me/HubAggregatorBot?start=_tgr_{userId}`

---

## üìã –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–≤—ñ–π referral link

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –±–æ—Ç–∞
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±–æ—Ç–∞ @HubAggregatorBot –≤ Telegram
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `/share`
3. –°–∫–æ–ø—ñ—é–π—Ç–µ –ª—ñ–Ω–∫—É (—Ñ–æ—Ä–º–∞—Ç: `https://t.me/HubAggregatorBot?start=_tgr_XXX`)

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API
```bash
curl -k -X POST "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/test-command?command=/share&user_lang=uk" | python3 -m json.tool
```

–í—ñ–¥–ø–æ–≤—ñ–¥—å –º—ñ—Å—Ç–∏—Ç—å `referral_link` –≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ.

---

## üìã –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∑ –Ω—É–ª—è:

```bash
curl -k -X POST "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/create-test-user" | python3 -m json.tool
```

–¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ –ø–æ–≤–µ—Ä–Ω–µ 5 referral –ª—ñ–Ω–æ–∫ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

---

## üìã –ö—Ä–æ–∫ 3: –°–∏–º—É–ª—é–≤–∞—Ç–∏ —ñ–Ω–≤–∞–π—Ç–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –í—Ä—É—á–Ω—É (—Ä–µ–∞–ª—å–Ω—ñ –∫–ª—ñ–∫–∏)
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ referral link –≤ Telegram (–∑ —ñ–Ω—à–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞ –∞–±–æ —á–µ—Ä–µ–∑ —ñ–Ω–∫–æ–≥–Ω—ñ—Ç–æ)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Start" –≤ –±–æ—Ç—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `/earnings` - –º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ +1 —ñ–Ω–≤–∞–π—Ç

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (—á–µ—Ä–µ–∑ API)
```bash
# –û—Ç—Ä–∏–º–∞–π—Ç–µ user_id –∑ Admin UI –∞–±–æ —á–µ—Ä–µ–∑ API
USER_ID="–≤–∞—à_user_id"

# –°—Ç–≤–æ—Ä–∏—Ç–∏ 5 —Ç–µ—Å—Ç–æ–≤–∏—Ö —ñ–Ω–≤–∞–π—Ç—ñ–≤
curl -k -X POST "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/users/${USER_ID}/test-5-invites" | python3 -m json.tool
```

–¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å 5 —ñ–Ω–≤–∞–π—Ç—ñ–≤ —ñ –≤—ñ–¥–∫—Ä–∏—î TOP.

---

## üìã –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:
- `/earnings` - –º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–Ω–≤–∞–π—Ç—ñ–≤
- `/top` - –º–∞—î –≤—ñ–¥–∫—Ä–∏—Ç–∏—Å—è —è–∫—â–æ >= 5 —ñ–Ω–≤–∞–π—Ç—ñ–≤

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ API:
```bash
# –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
curl -k "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/users/${USER_ID}" | python3 -m json.tool
```

–®—É–∫–∞–π—Ç–µ:
- `total_invited` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–Ω–≤–∞–π—Ç—ñ–≤
- `top_status` - `"open"` —è–∫—â–æ >= 5 —ñ–Ω–≤–∞–π—Ç—ñ–≤
- `top_unlock_method` - `"invites"` —è–∫—â–æ –≤—ñ–¥–∫—Ä–∏—Ç–æ —á–µ—Ä–µ–∑ —ñ–Ω–≤–∞–π—Ç–∏

---

## üîç –©–æ –≤—ñ–¥—Å—Ç–µ–∂—É—î—Ç—å—Å—è:

1. **–ö–ª—ñ–∫ –Ω–∞ referral link** ‚Üí –ª–æ–≥—É—î—Ç—å—Å—è –≤ `business_data` (data_type='log')
2. **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è inviter** ‚Üí –ø–æ `inviter_external_id` –≤ –ª–æ–≥–∞—Ö
3. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è total_invited** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–ª—è inviter
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è TOP** ‚Üí —è–∫—â–æ total_invited >= 5

---

## üìù –§–æ—Ä–º–∞—Ç referral link:

**–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç:**
```
https://t.me/HubAggregatorBot?start=_tgr_{userId}
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```
https://t.me/HubAggregatorBot?start=_tgr_123456789
```

**–í–∞–∂–ª–∏–≤–æ:**
- –ú–∞—î –±—É—Ç–∏ `HubAggregatorBot` (–Ω–µ —ñ–Ω—à–∏–π –±–æ—Ç)
- –ú–∞—î –±—É—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `?start=_tgr_XXX`
- `_tgr_` - —Ü–µ –ø—Ä–µ—Ñ—ñ–∫—Å –¥–ª—è referral
- –ü—ñ—Å–ª—è `_tgr_` –π–¥–µ `external_id` –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (Telegram user ID)

---

## ‚ùå –©–æ –ù–ï —Ä–∞—Ö—É—î—Ç—å—Å—è —è–∫ —ñ–Ω–≤–∞–π—Ç:

1. **–ö–ª—ñ–∫ –Ω–∞ –ª—ñ–Ω–∫–∏ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤** - —Ü–µ –ø—Ä–æ—Å—Ç–æ –∫–ª—ñ–∫–∏ –Ω–∞ —ñ–Ω—à—ñ –±–æ—Ç–∏
2. **–ö–æ–º–∞–Ω–¥–∏** (`/start`, `/partners`, `/top`) - –Ω–µ —ñ–Ω–≤–∞–π—Ç–∏
3. **–ü—Ä—è–º–∏–π —Å—Ç–∞—Ä—Ç –±–æ—Ç–∞** - –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `_tgr_`
4. **GPT Store traffic** - `_tgr_gptstore` –Ω–µ —Ä–∞—Ö—É—î—Ç—å—Å—è

---

## üêõ Troubleshooting:

### –Ü–Ω–≤–∞–π—Ç –Ω–µ —Ä–∞—Ö—É—î—Ç—å—Å—è:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç –ª—ñ–Ω–∫–∏ - –º–∞—î –±—É—Ç–∏ `_tgr_{userId}`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —ñ—Å–Ω—É—î –≤ –±–∞–∑—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ `business_data` (data_type='log')
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ `is_referral=true` –≤ –ª–æ–≥–∞—Ö

### TOP –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `total_invited` - –º–∞—î –±—É—Ç–∏ >= 5
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `top_status` - –º–∞—î –±—É—Ç–∏ `"open"`
3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `/earnings` —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

---

## üéØ –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç:

```bash
# 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
curl -k -X POST "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/create-test-user" | python3 -m json.tool

# 2. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ user_id –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

# 3. –°—Ç–≤–æ—Ä–∏—Ç–∏ 5 —ñ–Ω–≤–∞–π—Ç—ñ–≤
curl -k -X POST "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/users/{USER_ID}/test-5-invites" | python3 -m json.tool

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
curl -k "https://api-production-57e8.up.railway.app/api/v1/admin/bots/4f3c45a5-39ac-4d6e-a0eb-263765d70b1a/users/{USER_ID}" | python3 -m json.tool
```

